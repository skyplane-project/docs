
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Contributing to Skyplane &#8212; Skyplane 0.1 documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=62ba249389abaaa9ffc34bf36a076bdc1d65ee18" type="text/css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=f31d14ad54b65d19161ba51d4ffff3a77ae00456"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Building Skyplane from source" href="build_guide.html" />
    <link rel="prev" title="Welcome to Skyplane!" href="index.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Skyplane 0.1 documentation</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Developer documentation
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Contributing to Skyplane
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="build_guide.html">
   Building Skyplane from source
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  API documentation
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="skylark.html">
   API
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="_sources/contributing.md.txt"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#setting-up-a-developer-environment">
   Setting up a developer environment
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#building-and-testing-skyplane">
   Building and testing Skyplane
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#submitting-pull-requests">
   Submitting pull requests
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Contributing to Skyplane</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#setting-up-a-developer-environment">
   Setting up a developer environment
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#building-and-testing-skyplane">
   Building and testing Skyplane
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#submitting-pull-requests">
   Submitting pull requests
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="contributing-to-skyplane">
<h1>Contributing to Skyplane<a class="headerlink" href="#contributing-to-skyplane" title="Permalink to this headline">#</a></h1>
<p>Welcome to Skyplane! Everyone is welcome to contribute to Skyplane. We are always looking for new features and improvements and we value everyone’s input. There are many ways to contribute to Skyplane:</p>
<ul class="simple">
<li><p>Answering questions on Skyplane’s <a class="reference external" href="https://github.com/skyplane-project/skyplane/discussions">discussions page</a></p></li>
<li><p>Improving Skyplane’s documentation</p></li>
<li><p>Filing bug reports or reporting sharp edges via <a class="reference external" href="https://github.com/skyplane-project/skyplane/issues">Github issues</a></p></li>
<li><p>Contributing to our <a class="reference external" href="https://github.com/skyplane-project/skyplane">codebase</a></p></li>
</ul>
<p>We welcome pull requests, in particular for those issues marked with <a class="reference external" href="https://github.com/skyplane-project/skyplane/issues?q=is%3Aopen+is%3Aissue+label%3A%22good+first+issue%22">good first issue</a>.</p>
<p>For other proposals or larger features, we ask that you open a new GitHub <a class="reference external" href="https://github.com/skyplane-project/skyplane/issues/new">Issue</a> or <a class="reference external" href="https://github.com/skyplane-project/skyplane/discussions/new">Discussion</a>.</p>
<section id="setting-up-a-developer-environment">
<h2>Setting up a developer environment<a class="headerlink" href="#setting-up-a-developer-environment" title="Permalink to this headline">#</a></h2>
<p>Skyplane is composed of the client (runs locally on a user’s laptop) and gateway VMs (runs in respective clouds). Normally, the gateways use a pre-built nightly Docker image containing the latest build of the Skyplane gateway code (<code class="docutils literal notranslate"><span class="pre">ghcr.io/skyplane-project/skyplane:main</span></code>). However, if you modify the gateway source (under <code class="docutils literal notranslate"><span class="pre">skylark/gateway</span></code>), you will need to rebuild the gateway Docker image and push it to a container registry.</p>
<p><strong>Ensure you have <a class="reference external" href="https://docs.github.com/en/packages/working-with-a-github-packages-registry/working-with-the-container-registry#authenticating-to-the-container-registry">authenticated your Github account with Docker</a></strong>:</p>
<ul class="simple">
<li><p>Install docker</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl -fsSL https://get.docker.com -o get-docker.sh <span class="o">&amp;&amp;</span> sh get-docker.sh
</pre></div>
</div>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/settings/tokens/new">Create a Personal Access Token</a> with “write:packages” permissions</p></li>
<li><p>Register the token with Docker:</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">echo</span> &lt;PERSONAL_ACCESS_TOKEN&gt; <span class="p">|</span> sudo docker login ghcr.io -u &lt;GITHUB_USERNAME&gt; --password-stdin
</pre></div>
</div>
</section>
<section id="building-and-testing-skyplane">
<h2>Building and testing Skyplane<a class="headerlink" href="#building-and-testing-skyplane" title="Permalink to this headline">#</a></h2>
<p>After making a change to the Skyplane source, we need to rebuild the gateway Docker image:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nv">DOCKER_BUILDKIT</span><span class="o">=</span><span class="m">1</span> docker build -t skylark .
</pre></div>
</div>
<p>We now need to push the Docker image to a container registry. Replace <code class="docutils literal notranslate"><span class="pre">ghcr.io/skyplane-project/skyplane</span></code> with your container registry if you are developing against a fork. We autogenerate a short random hash for the image tag.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">export</span> <span class="nv">SKYLARK_DOCKER_IMAGE</span><span class="o">=</span><span class="s2">&quot;ghcr.io/skyplane-project/skyplane:local-</span><span class="k">$(</span>openssl rand -hex <span class="m">16</span><span class="k">)</span><span class="s2">&quot;</span>
$ sudo docker tag skylark <span class="nv">$SKYLARK_DOCKER_IMAGE</span>
$ sudo docker push <span class="nv">$SKYLARK_DOCKER_IMAGE</span>
</pre></div>
</div>
<p>To build the client, install the Skyplane package in development mode. The package points to your current checked-out version of the code, and any edits to the Skyplane client will immediately apply to the <code class="docutils literal notranslate"><span class="pre">skylark</span></code> CLI command.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pip install -e .
</pre></div>
</div>
<p>We can run the <code class="docutils literal notranslate"><span class="pre">skylark</span></code> CLI to test a transfer. The CLI will read your <code class="docutils literal notranslate"><span class="pre">SKYLARK_DOCKER_IMAGE</span></code> environment variable and use that Docker image when launching gateways.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ skylark init
$ skylark cp s3://... s3://...
</pre></div>
</div>
</section>
<section id="submitting-pull-requests">
<h2>Submitting pull requests<a class="headerlink" href="#submitting-pull-requests" title="Permalink to this headline">#</a></h2>
<p>Basic knowledge of git is assumed. To contribute to Skyplane:</p>
<ol class="simple">
<li><p>Fork the Skyplane repository to create a copy of the project in your own account.</p></li>
<li><p>Set up a developer environment as described as above.</p></li>
<li><p>Create a development branch (<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">-b</span> <span class="pre">feature_name</span></code>)</p></li>
<li><p>Test your changes manually using <code class="docutils literal notranslate"><span class="pre">skylark</span> <span class="pre">cp</span></code> and with the unit test suite:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pytest -n auto skylark/test
</pre></div>
</div>
<ol class="simple">
<li><p>Ensure your code is autoformatted and passes type checks:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pip install black pytype
$ black -l <span class="m">140</span> .
$ pytype --config .pytype.cfg skylark
</pre></div>
</div>
<ol class="simple">
<li><p>Commit your changes using a <a class="reference external" href="https://cbea.ms/git-commit/">descriptive commit message</a>.</p></li>
<li><p>Create a pull request on the main Skyplane repo from your fork. Consult <a class="reference external" href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-pull-requests">Github Help</a> for more details.</p></li>
</ol>
</section>
</section>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="index.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Welcome to Skyplane!</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="build_guide.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Building Skyplane from source</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By The Skyplane authors<br/>
  
      &copy; Copyright 2021, The Skyplane authors.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>